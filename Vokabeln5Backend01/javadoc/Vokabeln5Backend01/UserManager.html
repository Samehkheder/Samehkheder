<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="de">
<head>
<!-- Generated by javadoc -->
<title>UserManager (Vokabeln5Backend01 1.0-SNAPSHOT API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="declaration: package: Vokabeln5Backend01, class: UserManager">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../script-dir/jquery-ui.css" title="Style">
<script type="text/javascript" src="../script.js"></script>
<script type="text/javascript" src="../script-dir/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../script-dir/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../script-dir/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../script-dir/jquery-3.4.1.js"></script>
<script type="text/javascript" src="../script-dir/jquery-ui.js"></script>
</head>
<body class="class-declaration">
<script type="text/javascript">var data = {"i0":9,"i1":9,"i2":9,"i3":9,"i4":9};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-all.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<div class="navListSearch"><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</div>
</div>
<a id="skip.navbar.top">
<!--   -->
</a>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">Vokabeln5Backend01</a></div>
<h1 title="Class UserManager" class="title">Class UserManager</h1>
</div>
<div class="contentContainer">
<div class="inheritance" title="Inheritance Tree">java.lang.Object
<div class="inheritance">Vokabeln5Backend01.UserManager</div>
</div>
<section class="description">
<hr>
<pre>public class <span class="typeNameLabel">UserManager</span>
extends java.lang.Object</pre>
</section>
<section class="summary">
<ul class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<li class="blockList">
<section class="fieldSummary"><a id="field.summary">
<!--   -->
</a>
<h2>Field Summary</h2>
<div class="memberSummary">
<table>
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<thead>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Field</th>
<th class="colLast" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="altColor">
<td class="colFirst"><code>protected static spark.Filter</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#loginFilter">loginFilter</a></span></code></th>
<td class="colLast">
<div class="block">Filter zur Kontrolle der Anmeldung.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected static spark.Filter</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#passwortBruteForceSchutz">passwortBruteForceSchutz</a></span></code></th>
<td class="colLast">
<div class="block">Filter, ob die IP-Adresse gesperrt ist.</div>
</td>
</tr>
</tbody>
</table>
</div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li class="blockList">
<section class="constructorSummary"><a id="constructor.summary">
<!--   -->
</a>
<h2>Constructor Summary</h2>
<div class="memberSummary">
<table>
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<thead>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E()">UserManager</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
</tbody>
</table>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li class="blockList">
<section class="methodSummary"><a id="method.summary">
<!--   -->
</a>
<h2>Method Summary</h2>
<div class="memberSummary">
<div role="tablist" aria-orientation="horizontal"><button role="tab" aria-selected="true" aria-controls="memberSummary_tabpanel" tabindex="0" onkeydown="switchTab(event)" id="t0" class="activeTableTab">All Methods</button><button role="tab" aria-selected="false" aria-controls="memberSummary_tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t1" class="tableTab" onclick="show(1);">Static Methods</button><button role="tab" aria-selected="false" aria-controls="memberSummary_tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t4" class="tableTab" onclick="show(8);">Concrete Methods</button></div>
<div id="memberSummary_tabpanel" role="tabpanel">
<table aria-labelledby="t0">
<thead>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="altColor" id="i0">
<td class="colFirst"><code>protected static boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#checkValidLogin(spark.Request)">checkValidLogin</a></span>&#8203;(spark.Request&nbsp;request)</code></th>
<td class="colLast">
<div class="block">Prüft ob der Nutzer sich Korrekt anmeldet.</div>
</td>
</tr>
<tr class="rowColor" id="i1">
<td class="colFirst"><code>protected static void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#documentFehlerhafteAnmeldung(spark.Request)">documentFehlerhafteAnmeldung</a></span>&#8203;(spark.Request&nbsp;request)</code></th>
<td class="colLast">
<div class="block">Documentiert eine Fehlerhafte Anmeldung.</div>
</td>
</tr>
<tr class="altColor" id="i2">
<td class="colFirst"><code>protected static boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isValidEmail(java.lang.String)">isValidEmail</a></span>&#8203;(java.lang.String&nbsp;email)</code></th>
<td class="colLast">
<div class="block">Eine Funktion zu überprüfen, ob die E-Mail eine gültige ist oder nicht</div>
</td>
</tr>
<tr class="rowColor" id="i3">
<td class="colFirst"><code>static <a href="User.html" title="class in Vokabeln5Backend01">User</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isValidJsonUser(java.lang.String)">isValidJsonUser</a></span>&#8203;(java.lang.String&nbsp;jsonString)</code></th>
<td class="colLast">
<div class="block">Prüft, ob ein gegebener String ein gültiges JSON von einem User-Objekt
 darstellt</div>
</td>
</tr>
<tr class="altColor" id="i4">
<td class="colFirst"><code>protected static boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#loginHeadersMissing(spark.Request)">loginHeadersMissing</a></span>&#8203;(spark.Request&nbsp;request)</code></th>
<td class="colLast">
<div class="block">Kontrolliert, ob die Header email und password vorhanden sind.</div>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="inheritedList">
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a><code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<li class="blockList">
<section class="fieldDetails"><a id="field.detail">
<!--   -->
</a>
<h2>Field Details</h2>
<ul class="blockList">
<li class="blockList">
<section class="detail">
<h3><a id="loginFilter">loginFilter</a></h3>
<div class="memberSignature"><span class="modifiers">protected static</span>&nbsp;<span class="returnType">spark.Filter</span>&nbsp;<span class="memberName">loginFilter</span></div>
<div class="block">Filter zur Kontrolle der Anmeldung. Die Funktion Kontrolliert ob die
 Header email und password für eine korrekte Anmeldung richtig gesetzt
 sind. Ist dies nicht der Fall, wird der Request mit 401 Abgebrochen.</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="passwortBruteForceSchutz">passwortBruteForceSchutz</a></h3>
<div class="memberSignature"><span class="modifiers">protected static</span>&nbsp;<span class="returnType">spark.Filter</span>&nbsp;<span class="memberName">passwortBruteForceSchutz</span></div>
<div class="block">Filter, ob die IP-Adresse gesperrt ist.
 <p>Es wird die Tabelle fehlerhafteanmeldung bereinigt, sodass keine 
 Datensätze vorhanden sind, die älter als eine Stunde sind, da ältere 
 Daten irrelevant sind. Danach kann geprüft werden, ob die IP-Adresse noch 
 gesperrt ist. Zudem wird in der <code>request</code> gespeichert wie 
 viele fehlerhafte Anmeldeversuche die IP-Adresse schon vorzuweisen hat.</p>
 <p>Zudem wird die Benutzung des Dienstes Verwehrt, wenn sich keine 
 Verbindung zu Datenbank aufbauen lässt. Das hat den hintergrund, dass 
 zum einen die Nachfolgenden Dienste nicht ausgeführt werden können, und 
 zum anderen der passwortBruteForceSchutz nicht überprüft werden konnte. 
 Hier heißt es "im Zweifel lieber den Zugriff verweigern".</p></div>
</section>
</li>
</ul>
</section>
</li>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li class="blockList">
<section class="constructorDetails"><a id="constructor.detail">
<!--   -->
</a>
<h2>Constructor Details</h2>
<ul class="blockList">
<li class="blockList">
<section class="detail">
<h3><a id="&lt;init&gt;()">UserManager</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="memberName">UserManager</span>()</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li class="blockList">
<section class="methodDetails"><a id="method.detail">
<!--   -->
</a>
<h2>Method Details</h2>
<ul class="blockList">
<li class="blockList">
<section class="detail">
<h3><a id="isValidEmail(java.lang.String)">isValidEmail</a></h3>
<div class="memberSignature"><span class="modifiers">protected static</span>&nbsp;<span class="returnType">boolean</span>&nbsp;<span class="memberName">isValidEmail</span>&#8203;(<span class="arguments">java.lang.String&nbsp;email)</span></div>
<div class="block">Eine Funktion zu überprüfen, ob die E-Mail eine gültige ist oder nicht</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="documentFehlerhafteAnmeldung(spark.Request)">documentFehlerhafteAnmeldung</a></h3>
<div class="memberSignature"><span class="modifiers">protected static</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">documentFehlerhafteAnmeldung</span>&#8203;(<span class="arguments">spark.Request&nbsp;request)</span></div>
<div class="block">Documentiert eine Fehlerhafte Anmeldung.
 <p>Wenn eine IP-Adresse falsche Anmeldedaten (Passwort, Email, JWT) 
 angibt, wird dies in der Tabelle fehlerhafteanmeldung mit dem 
 dazugehörigen Zeitpunkt gespeichert. Wenn der Nutzer mit diesem 
 Methodenaufruf und den bisherigen fehlerhaften Anmeldungen insgesamt 
 mehr als 5 Fehlerhafte Anmeldungen vorzuweisen hat, wird er zudem für 
 die nächste halbe Stunde als gesperrt markiert. Dafür wird in der 
 Datenbank der Zeitpunkt "gesperrt bis" eingetragen.</p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>request</code> - Das Request-Objekt des Threads mit <code>attribut("fehlerhafteanmeldung")</code></dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="checkValidLogin(spark.Request)">checkValidLogin</a></h3>
<div class="memberSignature"><span class="modifiers">protected static</span>&nbsp;<span class="returnType">boolean</span>&nbsp;<span class="memberName">checkValidLogin</span>&#8203;(<span class="arguments">spark.Request&nbsp;request)</span></div>
<div class="block">Prüft ob der Nutzer sich Korrekt anmeldet. Sucht in der Datenbank nach
 einem Eintrag mit email und password wie im übergebenen request header.
 Zudem wird, sofern der Nutzer sein korektes passwort eingegeben hat, in
 der request seine user_id al Attribut gespeichert.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>request</code> - mit nicht leeren Headern email und password</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true, falls der Nutzer sich korrekt angemeldet hat, sonst false</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="loginHeadersMissing(spark.Request)">loginHeadersMissing</a></h3>
<div class="memberSignature"><span class="modifiers">protected static</span>&nbsp;<span class="returnType">boolean</span>&nbsp;<span class="memberName">loginHeadersMissing</span>&#8203;(<span class="arguments">spark.Request&nbsp;request)</span></div>
<div class="block">Kontrolliert, ob die Header email und password vorhanden sind.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>request</code> - Die request aus der die Header ausgelesen werden sollen.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true Falls mindestens ein Header fehlt.</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="isValidJsonUser(java.lang.String)">isValidJsonUser</a></h3>
<div class="memberSignature"><span class="modifiers">public static</span>&nbsp;<span class="returnType"><a href="User.html" title="class in Vokabeln5Backend01">User</a></span>&nbsp;<span class="memberName">isValidJsonUser</span>&#8203;(<span class="arguments">java.lang.String&nbsp;jsonString)</span></div>
<div class="block">Prüft, ob ein gegebener String ein gültiges JSON von einem User-Objekt
 darstellt</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>jsonString</code> - Der zu prüfende Json-String</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Instanz der Klasse User wenn String ein JSON-Objekt eines Users ist,
 null wenn nicht</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-all.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
</footer>
</body>
</html>
